<h1>Parcial - tema2</h1>
<p>Nota: 8.5 / 10.0 (APROBADO)</p>
<pre><code>puntaje ej1: 2.25
puntaje ej2: 2.25
puntaje ej3: 0.75
puntaje ej4: 2.25
puntaje ej5: 1
</code></pre>
<h2>Datos del alumno</h2>
<p>Nombre: Roman Lopez Garro</p>
<p>DNI: 44451063</p>
<p>LU: 1097/22</p>
<p>Maquina: 65-03</p>
<h2>Enunciado</h2>
<!doctype html>
<html>
<head>
  <link rel="icon" href="data:,">
  <link href="css/style.css" rel="stylesheet" />
  <meta charset="UTF-8">
  <style>
    th, td {
        border: 1px solid black;
        padding: 10px;
        text-align: left;
    }
    th {
        background-color: #f2f2f2;
    }
    .conditions {
        margin-left: 20px;
    }
</style>
</head>

<body style="width: 50%;margin: 1% auto;">

<div> 
<h1> Parcial Python - Tema 2 </h1>

<h2> Importante </h2>

<ul>
  <li>El parcial se aprueba con 6 puntos</li>
  <li>Template de funciones a implementar <a href="#" onclick="forceDownload('/parcial/Template_t2.py','Template_t2.py');">acá</a><br></li>
  <li>Lista de funciones permitidas <a href="/static/python_permitidas.html">acá</a></li>
  <li>Para testear el código pueden usar <a href="#" onclick="forceDownload('/parcial/tema2-test.py', 'tema2-test.py')">este</a> archivo que ya cuenta con todo lo necesario para desarrollar sus propios tests (este archivo no se entrega)</li>
</ul>

Implementar las siguientes especificaciones en Python.

<form name="form1" action="/submit_examen" method="post" enctype="multipart/form-data" onsubmit="return validaciones(event)">

  <hr style="width: 100%;">
  <h3 style="color:#1A5276">1) Ejercicio 1 [2.25 puntos]</h3>

<p> problema multiplos_de_primos (in <i>v</i>: seq⟨Z⟩) : Diccionario⟨Z, Z⟩ {<br>
  &nbsp; <strong>requiere:</strong> { Los elementos de <i>v</i> son positivos }<br>

  &nbsp; <strong>asegura:</strong> { Las claves de <i>res</i> son números primos, y cada valor corresponde con la cantidad de números en <i>v</i> tales que ese primo lo divide }<br>
  &nbsp; <strong>asegura:</strong> { Si existe un número primo p tal que divide a algún número de <i>v</i>, entonces p es clave de <i>res</i> }<br>
  &nbsp; <strong>asegura:</strong> { Los valores de <i>res</i> son positivos }<br>
}<br>
</p>

  <hr style="width: 100%;">
  <h3 style="color:#1A5276">2) Ejercicio 2 [2.25 puntos] </h3>

<p> problema longitud_mas_grande (in <i>A</i>: seq⟨seq⟨Z⟩⟩) : Z {<br>
  &nbsp; <strong>requiere:</strong>{  Hay al menos un uno en <i>A</i>  }<br>
  &nbsp; <strong>asegura:</strong> { Sea v la secuencia de unos más larga que está contenida en algún <i>A[i]</i> para i válido, res es igual a la longitud de v }<br>
  }<br>
</p>

<p>

  <hr style="width: 100%;">
  <h3 style="color:#1A5276">3) Ejercicio 3 [2.25 puntos]</h3>

Implementar la especificación <i>resolver_cuentas</i> descrita a continuación.

<p> problema resolver_cuentas(in <i>p</i>: Pila⟨string⟩ ) : seq⟨Z⟩ {<br>
  &nbsp; <strong>requiere:</strong> { Para cada elemento x de <i>p</i> vale esta_bien_formado(x) }<br>
  &nbsp; <strong>asegura:</strong> { <i>res[i]</i> es igual al resultado de la operación aritmética representada por el tope de la pila <i>p</i> luego de haber desapilado i elementos, para 0 <= i < longitud de <i>p</i> }<br>
  &nbsp; <strong>asegura:</strong> { <i>res</i> tiene la misma cantidad de elementos que <i>p</i> }<br>
  }<br>
  </p>

<p> problema esta_bien_formado(in <i>s</i>: string) : Bool {<br>
  &nbsp; <strong>requiere:</strong> { - }<br>
  &nbsp; <strong>asegura:</strong> { res == True <==> Cada caracter de s es '+', '-' o es un dígito; el último caracter de <i>s</i> es un dígito; no hay dos operadores consecutivos en <i>s</i> (los operadores son '+' y '-') }<br>
  }<br>
</p>

  <hr style="width: 100%;">
  <h3 style="color:#1A5276">4) Ejercicio 4 [2.25 puntos]</h3>

<p> problema dame_el_que_falta (in <i>s</i>: seq⟨ZxZ⟩): ZxZ {<br>
  &nbsp; <strong>requiere:</strong> { El menor número que aparece en alguna tupla de <i>s</i> es igual a 1 }<br>
  &nbsp; <strong>requiere:</strong> { Sea n el máximo número que aparece en alguna tupla de <i>s</i>, |s| = n*n-1 }<br>
  &nbsp; <strong>requiere:</strong> { <i>s</i> no tiene tuplas repetidas }<br>
  &nbsp; <strong>asegura:</strong> { Las compontentes de <i>res</i> son valores entre 1 y n, inclusive }<br>
  &nbsp; <strong>asegura:</strong> { <i>res</i> no pertenece a <i>s</i> }<br>
  }<br>
  </p>

<hr style="width: 100%;">
  <h3 style="color:#1A5276">5) Pregunta teórica (1 punto)</h3>

  <p>Conteste marcando la opción correcta.</p>

      <h4 style="color:#1A5276">En el contexto de Testing de Caja Blanca ¿Qué diferencia hay entre cubrimiento de arcos y cubrimiento de decisiones o ramas? </h4>

     <p>
      <input type="radio" name="mchoice_1" id="Bopcion1" value="1" />
          <label for="Bopcion1">No hay diferencia, ambos se refieren al mismo concepto</label> <br>
      <input type="radio" name="mchoice_1" id="Bopcion2" value="2" />
          <label for="Bopcion2">El cubrimiento de arcos verifica las instrucciones del programa, mientras que cubrimiento de ramas verifica cada arco del Grafo de Control de Flujo (CGF) del programa</label> <br>
      <input type="radio" name="mchoice_1" id="Bopcion3" value="3" />
          <label for="Bopcion3">El cubrimiento de arcos verifica los arcos del Grafo de Control de Flujo (CFG), mientras que cubrimiento de ramas verifica cada arco True o False de cada decisión lógica del programa</label> <br>
      </p>

  <hr style="width: 100%;">
  <h3 style="color:#1A5276">Adjunta el archivo con tu solución:</h3>
  <p><b style="color:red">Solo se puede adjuntar 1 archivo de extensión .py. En caso de haber desarrollado tests propios, no deben ser entregados.</b></p>

  <label for="archivo">Seleccionar archivo a enviar:</label>
  <input type="file" id="archivo" name="archivo" required accept=".py,text/x-python"/>

  <input type="submit" value="Enviar"
        style= "background-color: #1A5276; border-radius: 5px;
                margin-top:10px;padding: 10px 150px;color: #FFFFFF;
                font-size: 20px;cursor: pointer; width:100%" >

</form>
</div>
<script>
  function validaciones(event) {
    // Obtiene todos los inputs tipo radio del formulario
      const radioGroups = document.querySelectorAll('input[type="radio"]');
      const groupedByName = {};

      // Agrupar radios por su atributo name
      radioGroups.forEach(radio => {
        if (!groupedByName[radio.name]) {
          groupedByName[radio.name] = [];
        }
        groupedByName[radio.name].push(radio);
      });

      // Verificar que cada grupo de radios tenga al menos uno seleccionado
      for (const groupName in groupedByName) {
        const radios = groupedByName[groupName];
        const isChecked = radios.some(radio => radio.checked);

        if (!isChecked) {
          alert(`Debes seleccionar una opción para la pregunta ${groupName}`);
          return false; // Detener la validación si falta alguna opción
        }
      }

      var confirmacion = confirm("Confirmo que revisé mis respuestas y que quiero entregar mi examen");
      if (!confirmacion) {
          event.preventDefault();
          event.returnValue = false;
          return false;
        }
        event.returnValue = true;
        return true;
    }

// registro una funcion para mostrar el archivo cuando se adjunta.
// de esa forma evitamos que se adjunten otros archivos por error
document
  .getElementById('archivo')
  .addEventListener(
      'change',
      function () {
          var fr = new FileReader();
          fr.onload = function () {
              alert(this.result);
          };
          fr.readAsText(this.files[0]);
      }
  );

// para forzar a bajar el template de pytest y que no se pueda abrir en un nuevo tab
// (el browser intenta mostrar el codigo como HTML y el formato se ve raro)
function forceDownload(url, filename) {
  fetch(url).then(function(t) {
    return t.blob().then((b) => {
      var a = document.createElement("a");
      a.href = URL.createObjectURL(b);
      a.setAttribute("download", filename);
      a.click();
    });
  });
}
</script>
</body>

</html>

<h2>Solucion entregada por el alumno</h2>
<pre><code>from queue import Queue as Cola
from queue import LifoQueue as Pila

# Ejercicio 1
def es_primo(n: int) -&gt; bool:
    if n == 1:
        return False

    divisor: int = 2
    while divisor &lt; n:
        if n % divisor == 0:
            return False
        divisor += 1

    return True

def pertenece(n: int, numeros: list[int]) -&gt; bool:
    for numero in numeros:
        if n == numero:
            return True

    return False

def obtener_primos_divisores(n: int) -&gt; list[int]:
    divisor: int = 2
    primos: list[int]  = []
    while divisor &lt;= n:
        if n % divisor == 0 and es_primo(divisor) and not pertenece(divisor, primos):
            primos.append(divisor)

        divisor += 1

    return primos

def pertenece_dict(n: int, dictionary: dict[int, int]) -&gt; bool:
    for key in dictionary.keys():
        if n == key:
            return True

    return False

def multiplos_de_primos(v: list[int]) -&gt; dict[int,int]:
    primos: dict[int, int] = {}
    for numero in v:
        primos_divisores = obtener_primos_divisores(numero)
        for primo in primos_divisores:
            if pertenece_dict(primo, primos):
                apariciones = primos[primo]
                primos[primo] = apariciones + 1
            else:
                primos[primo] = 1

    return primos

# Ejercicio 2
def long_secuencia_de_unos(lista: list[int]) -&gt; int:
    max_consecucion: int = 0
    conteo_actual: int = 0
    for n in lista:
        if n == 1:
            conteo_actual += 1
        elif conteo_actual &gt; max_consecucion:
            max_consecucion = conteo_actual
            conteo_actual = 0

    if conteo_actual &gt; max_consecucion:
        max_consecucion = conteo_actual

    return max_consecucion

def longitud_mas_grande(A: list[list[int]]) -&gt; int:
    longitud_mas_grande: int = 0
    for lista in A:
        longitud = long_secuencia_de_unos(lista)
        if longitud &gt; longitud_mas_grande:
            longitud_mas_grande = longitud

    return longitud_mas_grande

# Ejercicio 3
def string_size(s: str) -&gt; int:
    size = 0
    for char in s:
        size += 1

    return size


def resolver(cuenta: str) -&gt; int:
    ultimo_numero: int = 0
    numero: str = &quot;&quot;
    ultima_operacion: str = &quot;&quot;
    suma: int = 0
    for i in range(string_size(cuenta)):
        # empiezo el siguiente numero y termino el anterior
        actual = cuenta[i]
        if (actual == '+' or actual == '-') and i == 0:
            numero += actual

        elif (actual == '+' or actual == '-') and i != 0:
            suma += int(numero)
            numero = actual

        else:
            numero += actual

    suma += int(numero)

    return suma

def int_size(lista: list[int]) -&gt; int:
    size = 0
    for n in lista:
        size += 1
    return size

def reverse(lista: list[int]) -&gt; list[int]:
    res: [int] = []
    index = int_size(lista) - 1
    while index &gt;= 0:
        res.append(lista[index])
        index -= 1

    return res


def resolver_cuentas(A: Pila[str]) -&gt; list[int]:
    res: [int] = []

    pila_temp: Pila[str] = Pila()

    while not A.empty():
        cuenta_actual = A.get()
        pila_temp.put(cuenta_actual)
        res.append(resolver(cuenta_actual))

    while not pila_temp.empty():
        A.put(pila_temp.get())

    return reverse(res)

# Ejercicio 4
def obtener_maximo(s: list[tuple[int,int]]) -&gt; int:
    maximo :int = 1
    for tupla in s:
        if tupla[0] &gt; maximo:
            maximo = tupla[0]
        if tupla[1] &gt; maximo:
            maximo = tupla[1]

    return maximo

def generar_lista_perfecta(maximo: int) -&gt; list[tuple[int,int]]:
    lista_perfecta = []
    for i in range(1, maximo + 1):
        for j in range(1, maximo + 1):
            lista_perfecta.append((i, j))

    return lista_perfecta

def pertenece(tupla: tuple[int, int], lista: list[int]) -&gt; bool:
    for el in lista:
        if el == tupla:
            return True

    return False

def dame_el_que_falta(s: list[tuple[int,int]]) -&gt; tuple[int,int]:
    maximo = obtener_maximo(s)
    lista_perfecta = generar_lista_perfecta(maximo)
    for tupla in lista_perfecta:
        if not pertenece(tupla, s):
            return tupla

    return (0,0)

</code></pre>
<h2>Resultado de la compilacion</h2>
<pre><code>
</code></pre>
<h2>Ejecucion de los tests</h2>
<h3>tema2-test-ej1.py.compilacion.out</h3>
<p>Puntaje del ej: 2.25 / 2.25</p>
<pre><code>test_ej1_cero_elementos (__main__.Ej1Test.test_ej1_cero_elementos) ... ok
test_ej1_dos_elementos (__main__.Ej1Test.test_ej1_dos_elementos) ... ok
test_ej1_elementos_con_factores_repetidos (__main__.Ej1Test.test_ej1_elementos_con_factores_repetidos) ... ok
test_ej1_elementos_con_varios_factores_repetidos (__main__.Ej1Test.test_ej1_elementos_con_varios_factores_repetidos) ... ok
test_ej1_lista_con_un_uno (__main__.Ej1Test.test_ej1_lista_con_un_uno) ... ok
test_ej1_muchisimos_numeros (__main__.Ej1Test.test_ej1_muchisimos_numeros) ... ok
test_ej1_muchos_numeros (__main__.Ej1Test.test_ej1_muchos_numeros) ... ok
test_ej1_un_elemento (__main__.Ej1Test.test_ej1_un_elemento) ... ok

----------------------------------------------------------------------
Ran 8 tests in 0.005s

OK

</code></pre>
<h3>tema2-test-ej2.py.compilacion.out</h3>
<p>Puntaje del ej: 2.25 / 2.25</p>
<pre><code>test_ej2_muchas_listas (__main__.Ej1Test.test_ej2_muchas_listas) ... ok
test_ej2_una_lista_un_uno (__main__.Ej1Test.test_ej2_una_lista_un_uno) ... ok
test_ej2_una_lista_varias_secuencias_de_unos (__main__.Ej1Test.test_ej2_una_lista_varias_secuencias_de_unos) ... ok
test_ej2_una_lista_varios_unos (__main__.Ej1Test.test_ej2_una_lista_varios_unos) ... ok
test_ej2_varias_listas_max_al_final (__main__.Ej1Test.test_ej2_varias_listas_max_al_final) ... ok
test_ej2_varias_listas_max_al_principio (__main__.Ej1Test.test_ej2_varias_listas_max_al_principio) ... ok

----------------------------------------------------------------------
Ran 6 tests in 0.003s

OK

</code></pre>
<h3>tema2-test-ej3.py.compilacion.out</h3>
<p>Puntaje del ej: 0.75 / 2.25</p>
<pre><code>test_ej3_cuentas_que_empiezan_con_mas (__main__.Ej1Test.test_ej3_cuentas_que_empiezan_con_mas) ... FAIL
test_ej3_cuentas_que_empiezan_con_menos (__main__.Ej1Test.test_ej3_cuentas_que_empiezan_con_menos) ... FAIL
test_ej3_dos_cuentas_preserva_pila (__main__.Ej1Test.test_ej3_dos_cuentas_preserva_pila) ... FAIL
test_ej3_pila_vacia (__main__.Ej1Test.test_ej3_pila_vacia) ... ok
test_ej3_una_cuenta (__main__.Ej1Test.test_ej3_una_cuenta) ... ok
test_ej3_varias_cuentas (__main__.Ej1Test.test_ej3_varias_cuentas) ... FAIL

======================================================================
FAIL: test_ej3_cuentas_que_empiezan_con_mas (__main__.Ej1Test.test_ej3_cuentas_que_empiezan_con_mas)
----------------------------------------------------------------------
Traceback (most recent call last):
  File &quot;./venv/lib/python3.12/site-packages/timeout_decorator/timeout_decorator.py&quot;, line 82, in new_function
    return function(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;./correcciones/python-tn/lopez_garro_roman_44451063/tema2-test-ej3.py&quot;, line 52, in test_ej3_cuentas_que_empiezan_con_mas
    self.assertListEqual(salida, resolver_cuentas(entrada))
AssertionError: Lists differ: [7, 0, -2] != [-2, 0, 7]

First differing element 0:
7
-2

- [7, 0, -2]
+ [-2, 0, 7]

======================================================================
FAIL: test_ej3_cuentas_que_empiezan_con_menos (__main__.Ej1Test.test_ej3_cuentas_que_empiezan_con_menos)
----------------------------------------------------------------------
Traceback (most recent call last):
  File &quot;./venv/lib/python3.12/site-packages/timeout_decorator/timeout_decorator.py&quot;, line 82, in new_function
    return function(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;./correcciones/python-tn/lopez_garro_roman_44451063/tema2-test-ej3.py&quot;, line 46, in test_ej3_cuentas_que_empiezan_con_menos
    self.assertListEqual(salida, resolver_cuentas(entrada))
AssertionError: Lists differ: [-7, 0, 2] != [2, 0, -7]

First differing element 0:
-7
2

- [-7, 0, 2]
+ [2, 0, -7]

======================================================================
FAIL: test_ej3_dos_cuentas_preserva_pila (__main__.Ej1Test.test_ej3_dos_cuentas_preserva_pila)
----------------------------------------------------------------------
Traceback (most recent call last):
  File &quot;./venv/lib/python3.12/site-packages/timeout_decorator/timeout_decorator.py&quot;, line 82, in new_function
    return function(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;./correcciones/python-tn/lopez_garro_roman_44451063/tema2-test-ej3.py&quot;, line 35, in test_ej3_dos_cuentas_preserva_pila
    self.assertListEqual(salida, resolver_cuentas(entrada))
AssertionError: Lists differ: [12, 6] != [6, 12]

First differing element 0:
12
6

- [12, 6]
+ [6, 12]

======================================================================
FAIL: test_ej3_varias_cuentas (__main__.Ej1Test.test_ej3_varias_cuentas)
----------------------------------------------------------------------
Traceback (most recent call last):
  File &quot;./venv/lib/python3.12/site-packages/timeout_decorator/timeout_decorator.py&quot;, line 82, in new_function
    return function(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File &quot;./correcciones/python-tn/lopez_garro_roman_44451063/tema2-test-ej3.py&quot;, line 41, in test_ej3_varias_cuentas
    self.assertListEqual(salida, resolver_cuentas(entrada))
AssertionError: Lists differ: [0, 46, 6, -5, 12, 6] != [6, 12, -5, 6, 46, 0]

First differing element 0:
0
6

- [0, 46, 6, -5, 12, 6]
+ [6, 12, -5, 6, 46, 0]

----------------------------------------------------------------------
Ran 6 tests in 0.005s

FAILED (failures=4)

</code></pre>
<h3>tema2-test-ej4.py.compilacion.out</h3>
<p>Puntaje del ej: 2.25 / 2.25</p>
<pre><code>test_ej4_falta_el_mas_chico (__main__.Ej1Test.test_ej4_falta_el_mas_chico) ... ok
test_ej4_falta_el_mas_grande (__main__.Ej1Test.test_ej4_falta_el_mas_grande) ... ok
test_ej4_lista_mas_larga (__main__.Ej1Test.test_ej4_lista_mas_larga) ... ok
test_ej4_lista_simple (__main__.Ej1Test.test_ej4_lista_simple) ... ok
test_ej4_test_grande_desordenado (__main__.Ej1Test.test_ej4_test_grande_desordenado) ... ok
test_ej4_test_grande_ordenado (__main__.Ej1Test.test_ej4_test_grande_ordenado) ... ok

----------------------------------------------------------------------
Ran 6 tests in 0.003s

OK

</code></pre>
<h3>mchoice.json-ej5.compilacion.out</h3>
<p>Puntaje del ej: 1 / 1</p>
<pre><code>mchoice ej5: respuesta del alumno=3, respuesta correcta=3

Ran 1 test in 0 seconds

OK

</code></pre>
<p>FIN</p>